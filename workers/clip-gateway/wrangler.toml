# Clip Gateway Worker
# Deploy: cd workers/clip-gateway && wrangler deploy

name = "clip-gateway"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# R2 bucket binding
[[r2_buckets]]
binding = "CLIPS_BUCKET"
bucket_name = "viralclipai-videos"

# Environment variables (set via wrangler secret)
# SIGNING_SECRET - HMAC signing secret (must match backend)

# Custom domain
# routes = [
#   { pattern = "cdn.viralclipai.io/*", zone_name = "viralclipai.io" }
# ]

[vars]
# Default CORS origins (comma-separated)
ALLOWED_ORIGINS = "https://app.viralclipai.io,https://viralclipai.io"
